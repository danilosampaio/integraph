<html>
    <head>
        <link rel="stylesheet" href="main.css">
    </head>
    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript" src="./integrations.js"></script>
    <script type="text/javascript" src="./diagram.js"></script>
    <body>
        <script type="module">
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
            import { minimalSetup, EditorView } from 'https://cdn.jsdelivr.net/npm/codemirror@6.0.1/+esm';
            window.__editorConfig = { minimalSetup, EditorView };
            initializeMermaid(mermaid);
            await mermaid.run();
            if (mermaid.contentLoaded){
                setupEdges(minimalSetup, EditorView);
            }
        </script>
        <div style="margin: 16px; border: solid hsl(240, 60%, 86.2745098039%) 1px; border-radius: 10px;">
            <div style="margin: 10px; display: flex; flex-direction: row; justify-content: space-between; align-items: flex-start;">
                <span></span>
                <div>
                    <ul style="list-style-type: none; margin-right: 10px;">
                        <li>
                            <button title="Refresh" onclick="location.reload(false);">&circlearrowleft;</button>
                            <button title="Diagram" onclick="openDiagramSourceCode(window.__editorConfig.minimalSetup, window.__editorConfig.EditorView);">&#119628;</button>
                            <button title="Integrations" onclick="openIntegrations(window.__editorConfig.minimalSetup, window.__editorConfig.EditorView);">&#8633;</button>
                        </li>
                    </ul>
                </div>
            </div>
            <pre class="mermaid">
            {{diagram}}
            </pre>
            <dialog id="editorDialog">
                <form method="dialog">
                    <div class="editor"></div>
                    <button>Close</button>
                </form>
            </dialog>
        </div>
    </body>
</html>